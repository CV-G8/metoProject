{"version":3,"sources":["webpack:///./src/views/numModelPage.vue?8fc8","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///src/views/numModelPage.vue","webpack:///./src/views/numModelPage.vue?325c","webpack:///./src/views/numModelPage.vue","webpack:///./src/views/numModelPage.vue?eaa1","webpack:///./src/views/numModelPage.vue?e927"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","staticClass","_v","_s","name","directives","rawName","value","numbericalModelELE","Layer","expression","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","ecLayer","element","selectValue","drawColorMap","_l","item","index","key","domProps","text","dataBox","visibleLevelId","leveValue","label","isArray","sateLayerIsShow","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","sateLayer","show","_m","class","selectBillboard","num","showAsideLeft","icon","style","transform","heading","currentTarget","timeChooseShow","getTimeRange","value1","model","callback","yearDate","backgroundColor","insert","colorShowIndex","value2","updateTime","maxProcessNum","_e","staticRenderFns","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","data","earth","undefined","level","showIsoLine","fill","cityLayer","clipperLayer","billboard","billboardSelect","created","ElementChoose","numbericalModel","mounted","mapContainer","document","querySelector","container","timeline","animation","infoBox","selectionIndicator","geocoder","creditContainer","createElement","globe","showGroundAtmosphere","scene","fog","enabled","depthTestAgainstTerrain","viewer","preRender","addEventListener","top","canvas","width","height","position","right","bottom","zIndex","ctx","getContext","font","strokeStyle","appendChild","numModel","stateCludeMap","methods","dealTimeLineDate","timeList","length","k","i","HB","timeArr","unshift","HA","push","time","timeLineData","forEach","Rtime","h","m","showYear","y","d","currentTime","colorMap","$router","path","params","gisIndex","MicapsECLayer","hfsLoader","localScene","addLocalScene","maxH","numLevel","dH","bbox","levels","DataBox","rectangle","upAxis","boxHeight","granularity","lineColor","add","root","flyTo","onHomeClick","e","cancel","imageGeneratorTEM","MeteoLib","RasterImageGenerator","component"],"mappings":"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","file":"js/chunk-bcbebb8c.2f802234.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"position\":\"relative\",\"width\":\"100%\",\"height\":\"100%\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"id\":\"numModelPage\"}}),_c('div',{staticStyle:{\"position\":\"absolute\",\"width\":\"300px\",\"top\":\"99px\",\"z-index\":\"10\",\"color\":\"#fff\"}},[_c('div',{staticClass:\"numericalModel-info\"},[_c('div',{staticClass:\"numericalModel-card\"},[_c('div',{staticClass:\"numericalModel-card-header\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('p',[_vm._v(_vm._s(_vm.name))])])]),_c('div',{staticClass:\"numericalModel-card-body\"},[_c('div',{staticClass:\"bounding-box\"},[_c('span',[_vm._v(\"要素\")]),_c('div',{staticStyle:{\"flex\":\"1\",\"display\":\"flex\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.numbericalModelELE.Layer.selectValue),expression:\"numbericalModelELE.Layer.selectValue\"}],staticStyle:{\"width\":\"153px\",\"height\":\"34px\",\"border\":\"none\",\"background-color\":\"#286989\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.numbericalModelELE.Layer, \"selectValue\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){_vm.ecLayer.element = _vm.numbericalModelELE.Layer.selectValue;_vm.drawColorMap()}]}},_vm._l((_vm.numbericalModelELE.Layer.element),function(item,index){return _c('option',{key:index,domProps:{\"value\":item.value}},[_vm._v(\" \"+_vm._s(item.text)+\" \")])}),0)])]),_c('div',{staticClass:\"bounding-box\"},[_c('span',[_vm._v(\"层次\")]),_c('div',{staticStyle:{\"flex\":\"1\",\"display\":\"flex\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.numbericalModelELE.Layer.leveValue),expression:\"numbericalModelELE.Layer.leveValue\"}],staticStyle:{\"width\":\"153px\",\"height\":\"34px\",\"border\":\"none\",\"background-color\":\"#286989\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.numbericalModelELE.Layer, \"leveValue\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){_vm.dataBox.visibleLevelId = _vm.numbericalModelELE.Layer.leveValue;}]}},_vm._l((_vm.dataBox.levelIds),function(item,index){return _c('option',{key:index + item,domProps:{\"value\":item.value}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])}),0)])]),_c('div',{staticClass:\"bounding-box\"},[_c('span',[_vm._v(\"叠加云图\")]),_c('div',{staticStyle:{\"flex\":\"1\",\"display\":\"flex\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sateLayerIsShow),expression:\"sateLayerIsShow\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.sateLayerIsShow)?_vm._i(_vm.sateLayerIsShow,null)>-1:(_vm.sateLayerIsShow)},on:{\"change\":[function($event){var $$a=_vm.sateLayerIsShow,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.sateLayerIsShow=$$a.concat([$$v]))}else{$$i>-1&&(_vm.sateLayerIsShow=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.sateLayerIsShow=$$c}},function($event){_vm.sateLayer.show=_vm.sateLayerIsShow}]}})])])])])])]),_vm._m(0),_c('div',{staticClass:\"billboardBox\"},_vm._l((_vm.billboard),function(item,index){return _c('div',{key:index,staticClass:\"billboard\",class:{ selectBillboard: index === _vm.num },on:{\"click\":function($event){return _vm.showAsideLeft(index)}}},[_c('i',{class:item.icon}),_c('span',[_vm._v(_vm._s(item.name))])])}),0),_c('div',{staticClass:\"compass\",style:({\n      transform: 'rotate(-' + _vm.heading + 'rad)',\n      '-webkit-transform': 'rotate(-' + _vm.heading + 'rad)',\n      '-moz-transform': 'rotate(-' + _vm.heading + 'rad)',\n    })},[_c('p',{staticStyle:{\"padding-bottom\":\"20px\",\"color\":\"#fff\"}},[_vm._v(\"N\")]),_c('svg',{staticClass:\"icon\",attrs:{\"t\":\"1634176780501\",\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"6575\",\"width\":\"100\",\"height\":\"99\"}},[_c('path',{attrs:{\"d\":\"M512 5.171717l0.010343 462.713536H512a46.545455 46.545455 0 0 0-46.545455 46.545454H418.909091L512 5.171717z\",\"fill\":\"#FFA930\",\"p-id\":\"6576\"}}),_c('path',{attrs:{\"d\":\"M605.090909 514.430707l-93.090909 509.269333V560.976162a46.545455 46.545455 0 0 0 46.545455-46.545455h46.545454z\",\"fill\":\"#C4C1BC\",\"p-id\":\"6577\"}}),_c('path',{attrs:{\"d\":\"M512 5.171717l93.090909 509.25899H558.545455a46.545455 46.545455 0 0 0-46.545455-46.545454V5.171717z\",\"fill\":\"#DE8200\",\"p-id\":\"6578\"}}),_c('path',{attrs:{\"d\":\"M465.454545 514.430707a46.545455 46.545455 0 0 0 46.535112 46.545455L512 1023.70004l-93.090909-509.269333H465.454545z\",\"fill\":\"#D8D8D8\",\"p-id\":\"6579\"}})])]),(_vm.timeLineIsShow)?_c('div',{staticClass:\"aside-right-footer\"},[_c('div',{staticClass:\"timeRange\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.timeChooseShow = !_vm.timeChooseShow}}},[_vm._v(\" 时间范围 \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.timeChooseShow),expression:\"timeChooseShow\"}],staticClass:\"timeChoose\"},[_c('div',{staticStyle:{\"text-align\":\"left\",\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_vm._v(\" 选择时间范围 \"),_c('i',{staticClass:\"iconfont icon-guanbi1\",staticStyle:{\"padding-right\":\"10px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.timeChooseShow = false}}})]),_c('el-date-picker',{attrs:{\"prefix-icon\":\"el-icon-date\",\"type\":\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始时间\",\"end-placeholder\":\"结束时间\"},on:{\"change\":function($event){return _vm.getTimeRange(_vm.value1)}},model:{value:(_vm.value1),callback:function ($$v) {_vm.value1=$$v},expression:\"value1\"}})],1)]),_c('div',{staticClass:\"timeLine\"},[_c('div',{staticStyle:{\"position\":\"absolute\",\"color\":\"#fff\",\"z-index\":\"30\",\"top\":\"-32px\",\"width\":\"180px\",\"height\":\"32px\",\"line-height\":\"32px\",\"text-align\":\"center\",\"background\":\"rgb(41, 128, 185)\"}},[_vm._v(\" 日期：\"+_vm._s(_vm.yearDate)+\" \")]),_c('div',{staticClass:\"timeBackMask\"},[_c('div',{staticClass:\"timeBack\"},[_vm._l((_vm.timeLineData),function(item,index){return _c('div',{key:index,staticClass:\"text\",staticStyle:{\"cursor\":\"pointer\"},style:({\n              backgroundColor:\n                index >= _vm.insert && index < _vm.colorShowIndex + _vm.insert\n                  ? '#2980b9'\n                  : '',\n            }),on:{\"click\":function($event){_vm.value2 = index;\n              _vm.updateTime(_vm.value2);}}},[_c('p',[_vm._v(_vm._s(item))]),_c('p',{staticClass:\"line\"})])}),_c('el-slider',{attrs:{\"max\":_vm.maxProcessNum,\"show-tooltip\":false},on:{\"change\":function($event){return _vm.updateTime(_vm.value2)}},model:{value:(_vm.value2),callback:function ($$v) {_vm.value2=$$v},expression:\"value2\"}})],2)])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"headerBanner\"},[_c('p',{staticClass:\"header-text\"},[_vm._v(\"铜仁市梵净山保护区梯度气象监测系统\")])])}]\n\nexport { render, staticRenderFns }","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","<template>\r\n  <div style=\"position: relative; width: 100%; height: 100%; overflow: hidden\">\r\n    <div id=\"numModelPage\" style=\"width: 100%; height: 100%\"></div>\r\n    <div\r\n      style=\"\r\n        position: absolute;\r\n        width: 100%;\r\n        top: 99px;\r\n        z-index: 10;\r\n        width: 300px;\r\n        color: #fff;\r\n      \"\r\n    >\r\n      <div class=\"numericalModel-info\">\r\n        <div class=\"numericalModel-card\">\r\n          <div class=\"numericalModel-card-header\">\r\n            <div style=\"display: flex; align-items: center\">\r\n              <p>{{ name }}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"numericalModel-card-body\">\r\n            <!-- 要素 -->\r\n            <div class=\"bounding-box\">\r\n              <span>要素</span>\r\n              <div style=\"flex: 1; display: flex\">\r\n                <select\r\n                  v-model=\"numbericalModelELE.Layer.selectValue\"\r\n                  @change=\"ecLayer.element = numbericalModelELE.Layer.selectValue;drawColorMap()\"\r\n                  style=\"\r\n                    width: 153px;\r\n                    height: 34px;\r\n                    border: none;\r\n                    background-color: #286989;\r\n                  \"\r\n                >\r\n                  <option\r\n                    v-for=\"(item, index) in numbericalModelELE.Layer.element\"\r\n                    :key=\"index\"\r\n                    :value=\"item.value\"\r\n                  >\r\n                    {{ item.text }}\r\n                  </option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div class=\"bounding-box\">\r\n              <span>层次</span>\r\n              <div style=\"flex: 1; display: flex\">\r\n                <select\r\n                  v-model=\"numbericalModelELE.Layer.leveValue\"\r\n                  @change=\"\r\n                    dataBox.visibleLevelId = numbericalModelELE.Layer.leveValue;\r\n                  \"\r\n                  style=\"\r\n                    width: 153px;\r\n                    height: 34px;\r\n                    border: none;\r\n                    background-color: #286989;\r\n                  \"\r\n                >\r\n                  <option\r\n                    v-for=\"(item, index) in dataBox.levelIds\"\r\n                    :key=\"index + item\"\r\n                    :value=\"item.value\"\r\n                  >\r\n                    {{ item.label }}\r\n                  </option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div class=\"bounding-box\">\r\n              <span>叠加云图</span>\r\n              <div style=\"flex: 1; display: flex\">\r\n                <input type=\"checkbox\" v-model=\"sateLayerIsShow\" @change=\"sateLayer.show=sateLayerIsShow\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- billboard -->\r\n    <div class=\"headerBanner\">\r\n      <p class=\"header-text\">铜仁市梵净山保护区梯度气象监测系统</p>\r\n    </div>\r\n    <div class=\"billboardBox\">\r\n      <div\r\n        class=\"billboard\"\r\n        v-for=\"(item, index) in billboard\"\r\n        :key=\"index\"\r\n        :class=\"{ selectBillboard: index === num }\"\r\n        @click=\"showAsideLeft(index)\"\r\n      >\r\n        <i :class=\"item.icon\"></i>\r\n        <span>{{ item.name }}</span>\r\n      </div>\r\n    </div>\r\n    <!-- 指南针 -->\r\n    <div\r\n      class=\"compass\"\r\n      :style=\"{\r\n        transform: 'rotate(-' + heading + 'rad)',\r\n        '-webkit-transform': 'rotate(-' + heading + 'rad)',\r\n        '-moz-transform': 'rotate(-' + heading + 'rad)',\r\n      }\"\r\n    >\r\n      <p style=\"padding-bottom: 20px; color: #fff\">N</p>\r\n      <svg\r\n        t=\"1634176780501\"\r\n        class=\"icon\"\r\n        viewBox=\"0 0 1024 1024\"\r\n        version=\"1.1\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        p-id=\"6575\"\r\n        width=\"100\"\r\n        height=\"99\"\r\n      >\r\n        <path\r\n          d=\"M512 5.171717l0.010343 462.713536H512a46.545455 46.545455 0 0 0-46.545455 46.545454H418.909091L512 5.171717z\"\r\n          fill=\"#FFA930\"\r\n          p-id=\"6576\"\r\n        ></path>\r\n        <path\r\n          d=\"M605.090909 514.430707l-93.090909 509.269333V560.976162a46.545455 46.545455 0 0 0 46.545455-46.545455h46.545454z\"\r\n          fill=\"#C4C1BC\"\r\n          p-id=\"6577\"\r\n        ></path>\r\n        <path\r\n          d=\"M512 5.171717l93.090909 509.25899H558.545455a46.545455 46.545455 0 0 0-46.545455-46.545454V5.171717z\"\r\n          fill=\"#DE8200\"\r\n          p-id=\"6578\"\r\n        ></path>\r\n        <path\r\n          d=\"M465.454545 514.430707a46.545455 46.545455 0 0 0 46.535112 46.545455L512 1023.70004l-93.090909-509.269333H465.454545z\"\r\n          fill=\"#D8D8D8\"\r\n          p-id=\"6579\"\r\n        ></path>\r\n      </svg>\r\n    </div>\r\n    <!-- 时间轴 -->\r\n    <div class=\"aside-right-footer\" v-if=\"timeLineIsShow\">\r\n      <div class=\"timeRange\" @click.self=\"timeChooseShow = !timeChooseShow\">\r\n        时间范围\r\n        <div class=\"timeChoose\" v-show=\"timeChooseShow\">\r\n          <div\r\n            style=\"\r\n              text-align: left;\r\n              display: flex;\r\n              justify-content: space-between;\r\n            \"\r\n          >\r\n            选择时间范围\r\n            <i\r\n              class=\"iconfont icon-guanbi1\"\r\n              style=\"padding-right: 10px; cursor: pointer\"\r\n              @click=\"timeChooseShow = false\"\r\n            ></i>\r\n          </div>\r\n          <el-date-picker\r\n            prefix-icon=\"el-icon-date\"\r\n            v-model=\"value1\"\r\n            type=\"datetimerange\"\r\n            range-separator=\"至\"\r\n            start-placeholder=\"开始时间\"\r\n            end-placeholder=\"结束时间\"\r\n            @change=\"getTimeRange(value1)\"\r\n          >\r\n          </el-date-picker>\r\n        </div>\r\n      </div>\r\n      <div class=\"timeLine\">\r\n        <div\r\n          style=\"\r\n            position: absolute;\r\n            color: #fff;\r\n            z-index: 30;\r\n            top: -32px;\r\n            width: 180px;\r\n            height: 32px;\r\n            line-height: 32px;\r\n            text-align: center;\r\n            background: rgb(41, 128, 185);\r\n          \"\r\n        >\r\n          日期：{{ yearDate }}\r\n        </div>\r\n        <div class=\"timeBackMask\">\r\n          <div class=\"timeBack\">\r\n            <div\r\n              class=\"text\"\r\n              @click=\"\r\n                value2 = index;\r\n                updateTime(value2);\r\n              \"\r\n              :style=\"{\r\n                backgroundColor:\r\n                  index >= insert && index < colorShowIndex + insert\r\n                    ? '#2980b9'\r\n                    : '',\r\n              }\"\r\n              v-for=\"(item, index) in timeLineData\"\r\n              :key=\"index\"\r\n              style=\"cursor: pointer\"\r\n            >\r\n              <p>{{ item }}</p>\r\n              <p class=\"line\"></p>\r\n            </div>\r\n            <!-- 进度条 -->\r\n            <el-slider\r\n              v-model=\"value2\"\r\n              @change=\"updateTime(value2)\"\r\n              :max=\"maxProcessNum\"\r\n              :show-tooltip=\"false\"\r\n            ></el-slider>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DataBox from \"@mesh-3d/weather-dv/src/DataBox\";\r\nimport { filterData, interpDataset } from \"@mesh-3d/weather-dv/src/SurfCalc\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      sateLayerIsShow:false,\r\n      earth: undefined,\r\n      value1: 10,\r\n      name: \"数值模式\",\r\n      element: \"TMP\",\r\n      level: 850,\r\n      ecLayer: undefined,\r\n      showIsoLine: true,\r\n      fill: true,\r\n      cityLayer: undefined,\r\n      clipperLayer: undefined,\r\n\r\n      numbericalModelELE: undefined,\r\n      // 该图层在总图层的位置索引\r\n      index: undefined,\r\n      dataBox: { levelIds: \"\" },\r\n      billboard: [\r\n        {\r\n          name: \"梯度监测\",\r\n          icon: \"iconfont icon-zhandianxinxi\",\r\n        },\r\n        {\r\n          name: \"实况监测\",\r\n          icon: \"iconfont icon-shikuangjiance\",\r\n        },\r\n        {\r\n          name: \"数值模式\",\r\n          icon: \"iconfont icon-shuzhimoshi\",\r\n        },\r\n        {\r\n          name: \"监测告警\",\r\n          icon: \"iconfont icon-jiancegaojing\",\r\n        },\r\n      ],\r\n      billboardSelect: true,\r\n      num: \"\",\r\n      // 时间轴\r\n      yearDate: \"\",\r\n      earth: undefined,\r\n      timeLineIsShow: true,\r\n      // 指南针\r\n      heading: 0,\r\n      timeChooseShow: false,\r\n      value1: 0,\r\n      timeLineData: [],\r\n      maxProcessNum: 100,\r\n      value2: 0,\r\n      colorShowIndex: 0,\r\n      insert:undefined,\r\n      canvas:undefined,\r\n      ctx:undefined,\r\n      sateLayer:undefined\r\n    };\r\n  },\r\n  created() {\r\n    this.numbericalModelELE = ElementChoose.numbericalModel;\r\n  },\r\n  mounted() {\r\n    // 注册地球\r\n    var mapContainer = document.querySelector(\"#numModelPage\");\r\n    var earth = (this.earth = new Earth({\r\n      container: mapContainer,\r\n      timeline: false,\r\n      animation: false,\r\n      infoBox: false,\r\n      selectionIndicator: true,\r\n      geocoder: false,\r\n      creditContainer: document.createElement(\"div\"), //去掉版权信息\r\n    }));\r\n\r\n    earth.globe.showGroundAtmosphere = false;\r\n    earth.scene.fog.enabled = false;\r\n    earth.depthTestAgainstTerrain = true;\r\n\r\n    // 默认高亮显示第三个\r\n    this.showAsideLeft(2);\r\n\r\n    // 绑定指南针\r\n    this.earth.viewer.scene.preRender.addEventListener(() => {\r\n      this.heading = this.earth.viewer.camera.heading;\r\n    });\r\n    document.querySelector(\".cesium-viewer-toolbar\").style.top = \"150px\";\r\n\r\n    // 添加色标canvas\r\n    this.canvas = document.createElement(\"canvas\");\r\n    this.canvas.width = 100;\r\n    this.canvas.height = 0;\r\n    this.canvas.style.position = \"absolute\";\r\n    this.canvas.style.right = \"100px\";\r\n    this.canvas.style.bottom = \"53px\";\r\n    this.canvas.style.zIndex = 10;\r\n    // this.canvas.style.background = '#fff'\r\n    this.ctx = this.canvas.getContext(\"2d\");\r\n    this.ctx.font = \"12px Verdana\";\r\n    this.ctx.strokeStyle = \"#fff\";\r\n\r\n    document.querySelector(\"#numModelPage\").appendChild(this.canvas);\r\n\r\n    this.numModel()\r\n    this.stateCludeMap()\r\n\r\n  },\r\n  methods: {\r\n    stateCludeMap(){\r\n        this.sateLayer = new SateCloudLayer(hfsLoader)\r\n        this.sateLayer.channel = 'C002'\r\n        this.sateLayer.load(this.earth).then(() => {\r\n            this.sateLayer.currentTime = this.sateLayer.latestTime\r\n            this.sateLayer.show = false\r\n        })\r\n    },\r\n    // 处理后台返回时间生成时间轴\r\n    dealTimeLineDate(timeList) {\r\n      let k = 21 - timeList.length;\r\n      let timeArr = Object.assign([], timeList);\r\n\r\n      if (timeList.length <= 15) {\r\n        this.insert = 3;\r\n      } else if (timeList.length <= 10) {\r\n        this.insert = 6;\r\n      } else if (timeList.length <= 5) {\r\n        this.insert = 8;\r\n      } else if (timeList.length <= 1) {\r\n        this.insert = 10;\r\n      } else {\r\n        this.insert = 0;\r\n      }\r\n\r\n      // 构建前后数组前后时间段\r\n      if (k != 21) {\r\n        let num = this.insert;\r\n        let dateBefore = timeArr[0];\r\n        let HB = new Date(dateBefore).getHours();\r\n        let dateAfter = timeArr[timeArr.length - 1];\r\n        let HA = new Date(dateAfter).getHours();\r\n        for (let i = 0; i < k; i++) {\r\n          if (i < this.insert) {\r\n            HB -= num;\r\n            if (HB < 0) {\r\n              HB = 24 + HB;\r\n            }\r\n            if (HB < 10) HB = \"0\" + HB;\r\n            timeArr.unshift(`${HB}:00`);\r\n          } else {\r\n            HA = +HA + num;\r\n            if (HA >= 24) {\r\n              HA = 0;\r\n            }\r\n            if (HA < 10) HA = \"0\" + HA;\r\n            timeArr.push(`${HA}:00`);\r\n          }\r\n        }\r\n      } else {\r\n        let time = 0;\r\n        for (let i = 0; i < 21; i++) {\r\n          time = +time + 1;\r\n          if (time < 10) time = \"0\" + time;\r\n          timeArr.push(`${time}:00`);\r\n        }\r\n      }\r\n\r\n      this.timeLineData = [];\r\n      timeArr.forEach((item, index) => {\r\n        var Rtime;\r\n        if (index >= this.insert && index < timeList.length + this.insert) {\r\n          let date = new Date(item);\r\n          let h = date.getHours();\r\n          let m = date.getMinutes();\r\n          if (h < 10) h = \"0\" + h;\r\n          if (m < 10) m = \"0\" + m;\r\n          Rtime = h + \":\" + m;\r\n          this.timeLineData.push(Rtime);\r\n        } else {\r\n          this.timeLineData.push(item);\r\n        }\r\n      });\r\n\r\n      this.maxProcessNum = this.timeLineData.length;\r\n    },\r\n    showYear() {\r\n      let date = new Date(this.ecLayer.currentTime);\r\n      let y = date.getFullYear();\r\n      let m = date.getMonth() + 1;\r\n      let d = date.getDate();\r\n      this.yearDate = y + \"-\" + m + \"-\" + d;\r\n    },\r\n    updateTime(time) {\r\n      this.ecLayer.currentTime = this.ecLayer.timeList[time - this.insert];\r\n      this.showYear();\r\n    },\r\n    // 绘制色斑图\r\n    drawColorMap() {\r\n        // let colorMap = this.ecLayer.colorMap\r\n        this.ecLayer.onChange = (colorMap)=>{\r\n            if(colorMap!=null){\r\n            this.ctx.clearRect(0, 0, 1000, 1000);\r\n            if (colorMap.length >= 256) {\r\n            this.canvas.height = colorMap.length + 20;\r\n            } else {\r\n            this.canvas.height = colorMap.length * 10 + 10;\r\n            }\r\n\r\n            for (let i = colorMap.length - 1; i >= 0; i--) {\r\n            if (colorMap.length >= 256) {\r\n                this.ctx.fillStyle =\r\n                \"rgba(\" +\r\n                colorMap[i][2][0] +\r\n                \",\" +\r\n                colorMap[i][2][1] +\r\n                \",\" +\r\n                colorMap[i][2][2] +\r\n                \",\" +\r\n                colorMap[i][2][3] +\r\n                \")\";\r\n                this.ctx.fillRect(2, colorMap.length - i - 1 + 10, 20, 1);\r\n\r\n                if (i == 0 || i == colorMap.length - 1 || i % 20 == 0) {\r\n                this.ctx.font = \"12px Verdana\";\r\n                this.ctx.strokeStyle = \"#44D7B6\";\r\n                this.ctx.strokeText(\r\n                    colorMap[colorMap.length - i - 1][3],\r\n                    27,\r\n                    i + 15\r\n                );\r\n                }\r\n            } else {\r\n                this.ctx.fillStyle =\r\n                \"rgba(\" +\r\n                colorMap[i][2][0] +\r\n                \",\" +\r\n                colorMap[i][2][1] +\r\n                \",\" +\r\n                colorMap[i][2][2] +\r\n                \",\" +\r\n                colorMap[i][2][3] +\r\n                \")\";\r\n                this.ctx.fillRect(2, 10 * (colorMap.length - i - 1) + 10, 20, 10);\r\n\r\n                if (i == 0 || i % 3 == 0 || i == colorMap.length - 1) {\r\n                this.ctx.font = \"12px Verdana\";\r\n                this.ctx.strokeStyle = \"#44D7B6 \";\r\n                this.ctx.strokeText(\r\n                    colorMap[colorMap.length - 1 - i][3],\r\n                    27,\r\n                    i * 10 + 20\r\n                );\r\n                }\r\n            }\r\n            }\r\n        }\r\n        }\r\n        \r\n      \r\n    },\r\n    showAsideLeft(index) {\r\n      this.num = index;\r\n      if (index == 0) {\r\n        this.$router.push({\r\n          path: \"/\",\r\n          name: \"gis\",\r\n          params: {\r\n            gisIndex: index,\r\n          },\r\n        });\r\n      } else if (index != 2) {\r\n        this.$router.push({\r\n          path: \"/index\",\r\n          name: \"index\",\r\n          params: {\r\n            gisIndex: index,\r\n          },\r\n        });\r\n      }\r\n    },\r\n    // 数值模式填图\r\n    numModel() {\r\n      this.ecLayer = new MicapsECLayer(hfsLoader);\r\n        this.ecLayer.load(this.earth).then(() => {\r\n        this.ecLayer.currentTime = this.ecLayer.timeList[0]\r\n        this.drawColorMap()\r\n        this.colorShowIndex = this.ecLayer.timeList.length;\r\n        this.dealTimeLineDate(this.ecLayer.timeList);\r\n        this.showYear(this.ecLayer.timeList[0])\r\n      }) \r\n      var earth = this.earth;\r\n      var localScene = earth.addLocalScene({});\r\n\r\n      var maxH = 100000;\r\n      var numLevel = 10;\r\n      var dH = maxH / numLevel;\r\n      var bbox = [\r\n        108.52284055410892, 27.642245321364133, 108.85578708890267,\r\n        28.106139815822313,\r\n      ];\r\n\r\n      var levels = [];\r\n      for (let i = 0; i < numLevel; i++) {\r\n        levels.push({\r\n          height: dH * (i + 0.25),\r\n        });\r\n      }\r\n\r\n      var dataBox = new DataBox({\r\n        rectangle: bbox,\r\n        levels: levels,\r\n        upAxis: \"y\",\r\n        boxHeight: maxH + dH * 0.25,\r\n        granularity: 0.05,\r\n        lineColor: \"lightblue\", //'rgb(10,13,44)'\r\n      });\r\n      localScene.add(dataBox.root);\r\n\r\n      earth.flyTo(dataBox);\r\n\r\n      earth.onHomeClick.addEventListener((e) => {\r\n        earth.flyTo(dataBox);\r\n        e.cancel = true;\r\n      });\r\n\r\n      var imageGeneratorTEM = new MeteoLib.RasterImageGenerator({\r\n        name: \"TEM\",\r\n        colorMap: [\r\n          [-66666666, -30, [0, 0, 255, 255], \"<-30\"],\r\n          [-30, -28, [0, 20, 255, 255], \"-30~-28\"],\r\n          [-28, -24, [0, 70, 255, 255], \"-28~-24\"],\r\n          [-24, -22, [0, 100, 255, 255], \"-24~-22\"],\r\n          [-22, -20, [0, 170, 255, 255], \"-22~-20\"],\r\n          [-20, -18, [0, 200, 255, 255], \"-20~-18\"],\r\n          [-18, -16, [0, 230, 255, 255], \"-18~-16\"],\r\n          [-16, -14, [0, 255, 245, 255], \"-16~-14\"],\r\n          [-14, -12, [0, 255, 215, 255], \"-14~-12\"],\r\n          [-12, -10, [0, 255, 175, 255], \"-12~-10\"],\r\n          [-10, -8, [0, 255, 145, 255], \"-10~-8\"],\r\n          [-8, -6, [0, 255, 110, 255], \"-8~-6\"],\r\n          [-6, -4, [0, 255, 80, 255], \"-6~-4\"],\r\n          [-4, -2, [0, 255, 45, 255], \"-4~-2\"],\r\n          [-2, 0, [0, 255, 15, 255], \"-2~0\"],\r\n          [0, 2, [20, 255, 0, 255], \"0~2\"],\r\n          [2, 4, [50, 255, 0, 255], \"2~4\"],\r\n          [4, 6, [90, 255, 0, 255], \"4~6\"],\r\n          [6, 8, [120, 255, 0, 255], \"6~8\"],\r\n          [8, 10, [155, 255, 0, 255], \"8~10\"],\r\n          [10, 12, [185, 255, 0, 255], \"10~ 12\"],\r\n          [12, 14, [220, 255, 0, 255], \"12~14\"],\r\n          [14, 16, [255, 255, 0, 255], \"14~16\"],\r\n          [16, 18, [255, 225, 0, 255], \"16~ 18\"],\r\n          [18, 20, [255, 195, 0, 255], \"18~20\"],\r\n          [20, 22, [255, 160, 0, 255], \"20~ 22\"],\r\n          [22, 24, [255, 130, 0, 255], \"20~ 22\"],\r\n          [24, 26, [255, 100, 0, 255], \"24~ 26\"],\r\n          [26, 28, [255, 65, 0, 255], \"26~ 28\"],\r\n          [28, 30, [255, 45, 0, 255], \"28~ 30\"],\r\n          [30, 33, [255, 37, 0, 255], \"30~ 33\"],\r\n          [33, 35, [255, 20, 0, 255], \"33~35\"],\r\n          [35, 666666666, [255, 0, 0, 255], \"35>\"],\r\n        ],\r\n      });\r\n      hfsLoader\r\n        .readFile(\r\n          {\r\n            dir: \"GZData\",\r\n            path: \"SURF\",\r\n            fileName: \"SURF_CHN_MUL_HOR/surf_20201030050000.json\",\r\n          },\r\n          {\r\n            responseType: \"json\",\r\n          }\r\n        )\r\n        .then((res) => {\r\n          //过滤数据\r\n          var ds = filterData(res.DS, bbox);\r\n          //散点插值\r\n          interpDataset(ds, \"TEM\", bbox, 256, 256).then((dataArray) => {\r\n            //绘制色斑图\r\n            var img = imageGeneratorTEM.generate(dataArray, 256, 256);\r\n            dataBox.levels.forEach((level) => {\r\n              level.setImage(img);\r\n            });\r\n          });\r\n        });\r\n\r\n      this.dataBox = dataBox;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\np {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n.expand {\r\n  transform: rotateZ(90deg);\r\n  transition: all 0.3s ease-in-out;\r\n}\r\n.numericalModel-info {\r\n  width: calc(100% - 20px);\r\n  height: calc(100% -42px);\r\n  margin-left: 10px;\r\n  background-color: #00447f;\r\n  margin-bottom: 2px;\r\n}\r\n.numericalModel-info .numericalModel-card {\r\n  width: 100%;\r\n  overflow: hidden;\r\n  transition: all 0.3s ease-in-out;\r\n}\r\n.numericalModel-info .numericalModel-card-header {\r\n  background-image: linear-gradient(to right, #02d4fa, #005763);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: 37px;\r\n  padding: 10px 29px 10px 29px;\r\n  box-sizing: border-box;\r\n}\r\n.numericalModel-info:first-child {\r\n  margin-top: 22px;\r\n}\r\n.numericalModel-info .numericalModel-card-header {\r\n  background-image: linear-gradient(to right, #02d4fa, #005763);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: 37px;\r\n  padding: 10px 20px 10px 10px;\r\n  box-sizing: border-box;\r\n}\r\n.numericalModel-info .numericalModel-card-body {\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n.numericalModel-info .numericalModel-card-body .bounding-box {\r\n  display: flex;\r\n  height: 34px;\r\n  width: 320px;\r\n  align-items: center;\r\n  margin: 10px 0;\r\n  overflow: hidden;\r\n}\r\n.numericalModel-info .numericalModel-card-body .bounding-box > span {\r\n  width: 100px;\r\n  text-align: right;\r\n  margin-right: 15px;\r\n}\r\n.numericalModel-info .numericalModel-card-body .bounding-box .button1 {\r\n  width: 48px;\r\n  height: 34px;\r\n  text-align: center;\r\n  background-color: #18eaf3;\r\n  line-height: 34px;\r\n  border-radius: 2px;\r\n  margin-left: 4px;\r\n}\r\n.numericalModel-info .numericalModel-card-body .bounding-box .button2 {\r\n  width: 183px;\r\n  height: 34px;\r\n  text-align: center;\r\n  background-color: #18eaf3;\r\n  line-height: 34px;\r\n  border-radius: 2px;\r\n}\r\n.numericalModel-info .numericalModel-card-body .bounding-box select {\r\n  color: rgba(255, 255, 255, 0.438);\r\n}\r\n.numericalModel-info\r\n  .numericalModel-card-body\r\n  .bounding-box\r\n  .bounding-box-date {\r\n  display: flex;\r\n  color: rgba(255, 255, 255, 0.507);\r\n  align-items: center;\r\n  font-size: 14px;\r\n  width: 183px;\r\n  background-color: #286989;\r\n  justify-content: center;\r\n}\r\n.numericalModel-info\r\n  .numericalModel-card-body\r\n  .bounding-box\r\n  .bounding-box-process\r\n  > p {\r\n  width: 135px;\r\n  height: 2px;\r\n  border-radius: 1px;\r\n  background-color: #02d4fa;\r\n}\r\n.numericalModel-info\r\n  .numericalModel-card-body\r\n  .bounding-box\r\n  .bounding-box-process\r\n  > input {\r\n  width: 40px;\r\n  height: 34px;\r\n  border-radius: 1px;\r\n  background-color: #00447f;\r\n  border: none;\r\n  margin-left: 5px;\r\n  color: #fff;\r\n  text-align: center;\r\n  outline: none;\r\n}\r\n/* billboard */\r\n.billboard {\r\n  width: 154px;\r\n  height: 40px;\r\n  background-image: url(\"../assets/imgs/未选中-标题.png\");\r\n  background-size: 154px 40px;\r\n  background-repeat: no-repeat;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0 20px;\r\n  transform: translate(10vw, 10vh);\r\n  cursor: pointer;\r\n  color: #fff;\r\n}\r\n.selectBillboard {\r\n  background-image: url(\"../assets/imgs/选中-标题.png\") !important;\r\n}\r\n.billboardBox {\r\n  width: 100%;\r\n  position: absolute;\r\n  top: 100px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transform: translateX(-10%);\r\n}\r\n\r\n.headerBanner {\r\n  height: 121px;\r\n  width: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  background: url(\"../assets/imgs/bt.jpg\");\r\n  background-size: 100%;\r\n}\r\n.header-text {\r\n  color: #fff;\r\n  font-size: 36px;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.compass {\r\n  position: absolute;\r\n  right: 30px;\r\n  top: 200px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.aside-right-footer {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 53px;\r\n  display: flex;\r\n  align-items: center;\r\n  bottom: 0px;\r\n}\r\n.aside-right-footer .timeRange {\r\n  width: 75px;\r\n  height: 33px;\r\n  font-size: 12px;\r\n  background-color: #18ecf3;\r\n  border-radius: 4px;\r\n  line-height: 33px;\r\n  text-align: center;\r\n  flex-shrink: 0;\r\n  color: #fff;\r\n}\r\n/* 时间轴 */\r\n.aside-right-footer .timeLine {\r\n  width: 100%;\r\n  height: 40px;\r\n  background-color: #00517f;\r\n  margin-left: 10px;\r\n  position: relative;\r\n}\r\n.aside-right-footer .timeBackMask {\r\n  width: 100%;\r\n  /* height: calc(33px + 10px); */\r\n  height: 43px;\r\n  overflow-y: hidden;\r\n  overflow-x: scroll;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n\r\n.aside-right-footer .timeBack {\r\n  position: absolute;\r\n  display: flex;\r\n  flex-shrink: 0;\r\n  color: #fff;\r\n  /* left: 20px; */\r\n}\r\n.aside-right-footer .timeLine .text {\r\n  width: 100px;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-shrink: 0;\r\n  align-items: center;\r\n  padding-bottom: 3px;\r\n  box-sizing: border-box;\r\n}\r\n.aside-right-footer .timeLine .text .line {\r\n  height: 8px;\r\n  width: 0;\r\n  border: 1px solid #fff;\r\n}\r\n.aside-right-footer .timeChoose {\r\n  position: absolute;\r\n  top: -100px;\r\n  width: 231px;\r\n  height: 81px;\r\n  background-color: #00517f;\r\n  border: 1px solid #00a8ff;\r\n  padding-left: 20px;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  z-index: 2;\r\n}\r\n\r\n/* 进度条 */\r\n.aside-right-footer .process {\r\n  width: 0px;\r\n  height: 2px;\r\n  left: 0;\r\n  bottom: 0;\r\n  position: absolute;\r\n  background-color: #18eaf3;\r\n}\r\n.aside-right-footer .process .button {\r\n  width: 12px;\r\n  height: 12px;\r\n  border-radius: 50%;\r\n  background-color: #18eaf3;\r\n  position: absolute;\r\n  transform: translate(0, -50%);\r\n}\r\n.cloudLayerDragTarget {\r\n  cursor: move;\r\n}\r\n</style>\r\n<style>\r\n.timeChoose .el-date-editor {\r\n  width: 220px !important;\r\n  background: transparent;\r\n  border: none;\r\n  padding-left: 0 !important;\r\n}\r\n.timeChoose .el-range-input {\r\n  background: none;\r\n  color: rgba(255, 255, 255, 0.863) !important;\r\n}\r\n.timeChoose .el-range-separator {\r\n  color: #fff !important;\r\n  padding-right: 10px !important;\r\n}\r\n.aside-right-footer .timeBack .el-slider {\r\n  position: absolute !important;\r\n  width: 100%;\r\n  bottom: 17px;\r\n}\r\n.aside-right-footer .timeBack .el-slider__runway {\r\n  position: absolute !important;\r\n  width: 100% !important;\r\n  height: 2px !important;\r\n}\r\n.aside-right-footer .timeBack .el-slider__bar {\r\n  height: 2px !important;\r\n  background-color: #18eaf3 !important;\r\n}\r\n.aside-right-footer .timeBack .el-slider__button {\r\n  height: 16px !important;\r\n  width: 16px !important;\r\n  border: none !important;\r\n  color: #18eaf3 !important;\r\n  transform: translate(50px, -2px);\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./numModelPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./numModelPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./numModelPage.vue?vue&type=template&id=73ad4757&scoped=true&\"\nimport script from \"./numModelPage.vue?vue&type=script&lang=js&\"\nexport * from \"./numModelPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./numModelPage.vue?vue&type=style&index=0&id=73ad4757&scoped=true&lang=css&\"\nimport style1 from \"./numModelPage.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73ad4757\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./numModelPage.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./numModelPage.vue?vue&type=style&index=0&id=73ad4757&scoped=true&lang=css&\""],"sourceRoot":""}